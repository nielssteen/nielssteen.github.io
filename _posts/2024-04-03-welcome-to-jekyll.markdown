---
layout: post
title:  "Assignement 2"
date:   2024-04-03 10:09:02 +0200
categories: jekyll update
---
# How do police stations affect crimerates in the surrounding area?

## Introduction

Crime occurs throughout all of San Francisco, with some areas being more exposed to crime than others. The question is, does the presence of police stations have an effect on the rates of crime in the surrounding neighborhood and area?

## Preparing packages, importing data and formatting

The data used is supplied by DataSF which cover both the history of crime and the location of police stations. We will only be looking at crime data from 2011, as this aligns with the newest available data of police stations and coordinates.

## Police station coordinates

**Location data for each police station is used to do the calculations**

## Crime in vicinity

Now we will explore all of the police stations in San Fransico. As we will be looking at data present in a circular area around the police stations, it's important that the individual police station domains dont overlap and influence the data trends. This is mitigated by locating the pair of closest police stations.

**Calculating pair of closest police stations**

## Barcharts of crime occurrences and distance to police stations

The pair of closest police stations was found to be Southeren and Tenderloin station of 1.23km. As a result, a radius of interest around the police stations has been set to 500m.

The area around the police stations will be divided into rings. These will serve as bins for the barchart. To combat the inflation in the number of crime with the gradiually increasing ring area, a normalization will be done to represent a density of crime instead. This density is represented as crime pr. square meter and ensure a accurate comparison between the rings.

A function is created to iterate through the stations and search crime which is within the 500m boundary and sorted accordingly. Additionally, data is generated and stored to be used in both a Folium map and a Bokeh plot further in the analysis.

## Folium map after additional filters

## Comment

**Looking at the Barcharts** we see a slight increase in criminal activity moving away from the police stations, but also examples of the opposite as seen by Tenderloin station. As in the case of Richmond and Mission station, no distinct impact is observed. The area around the police station is generally more safe.

**Looking at the Folium map** we see can see gradient examples of both increases and decreases in crime around police stations. Taking Southeren station, a clear increase in crime density is seen, going from dark purple to yellow. The opposite can be seen by Tenderloin station. It's also apparent from the heatmap, that not alot of crime is done in parks, where the only noticeable ring by Park station is one aligning with a hotspot on Stanyan Street.

## Bokeh plot

A Bokeh plot is made covering the Ingleside police staition to investigate the different crime types and how the dominant type of crime change according to distance.

Upon inspection of the Bokeh plot and specially when playing around with the different crime types, especially *Assault, Vandalism* and *Larcency/Theft*, the reader will notice a significant spike from 350 - 500 meter from the police station. As for the crime most frequently commited close to the station we again see *Assault* and *Vandalism* accompanied by *Drug/Narcotics* with the nearest cases being just 125 meter away.

Notably, *driving under the influence* and *Weapon laws* are exclusively done away from the station.

## Conclusion

Modelling criminal behaviour around police stations using solely crime data can give a general picture of the current effect, but might not be the most nuanced tool to confirm or deny the explored query. Things such as increased police patrol and survailance, reporting bias, socioeconomic factors and known crime hotspots (as seen on Stanyan Street) might contribute to inflation of the numbers and thus the rings which have been analyzed.

For half of the police stations, safety increased closer to the police station, with the remaining stations either not having a change of crimerates or in the case of Tenderloin Station actually being more unsafe at close distance.

The approach for this analysis was influenced by the filters which were put in place to eliminate outliers around the police stations. Ontop, the limit of a 500m radius to not interfere with the data from other police stations narrowed down the scope. Further test could include looking at more remote police stations and broadening the area of investigation.


<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Bokeh_plot.html</title>
    <style>
      html, body {
        box-sizing: border-box;
        display: flow-root;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-3.2.1.min.js"></script>
    <script type="text/javascript">
        Bokeh.set_log_level("info");
    </script>
  </head>
  <body>
    <div id="ce21e54a-5d61-4e4b-9a99-197c86540be6" data-root-id="p1004" style="display: contents;"></div>
  
    <script type="application/json" id="p1204">
      {"e6e61fb8-a9be-4e8a-8f8d-246723a2dfde":{"version":"3.2.1","title":"Bokeh Application","roots":[{"type":"object","name":"Figure","id":"p1004","attributes":{"sizing_mode":"stretch_width","x_range":{"type":"object","name":"FactorRange","id":"p1014","attributes":{"factors":["(25, 50]","(50, 75]","(75, 100]","(100, 125]","(125, 150]","(150, 175]","(175, 200]","(200, 225]","(225, 250]","(250, 275]","(275, 300]","(300, 325]","(325, 350]","(350, 375]","(375, 400]","(400, 425]","(425, 450]","(450, 475]","(475, 500]"]}},"y_range":{"type":"object","name":"DataRange1d","id":"p1006"},"x_scale":{"type":"object","name":"CategoricalScale","id":"p1015"},"y_scale":{"type":"object","name":"LinearScale","id":"p1016"},"title":{"type":"object","name":"Title","id":"p1007","attributes":{"text":"Types of crime and distance from station"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1040","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1001","attributes":{"selected":{"type":"object","name":"Selection","id":"p1002","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1003"},"data":{"type":"map","entries":[["Distance Bin",{"type":"ndarray","array":["(25, 50]","(50, 75]","(75, 100]","(100, 125]","(125, 150]","(150, 175]","(175, 200]","(200, 225]","(225, 250]","(250, 275]","(275, 300]","(300, 325]","(325, 350]","(350, 375]","(375, 400]","(400, 425]","(425, 450]","(450, 475]","(475, 500]"],"shape":[19],"dtype":"object","order":"little"}],["ASSAULT",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAADAAAAAAAAAAEAAAAHAAAACQAAAAgAAAAIAAAABAAAAA=="},"shape":[19],"dtype":"int32","order":"little"}],["BURGLARY",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAA=="},"shape":[19],"dtype":"int32","order":"little"}],["DISORDERLY CONDUCT",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="},"shape":[19],"dtype":"int32","order":"little"}],["DRIVING UNDER THE INFLUENCE",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAA=="},"shape":[19],"dtype":"int32","order":"little"}],["DRUG/NARCOTIC",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAABAAAAAIAAAABAAAAAgAAAA=="},"shape":[19],"dtype":"int32","order":"little"}],["DRUNKENNESS",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAA=="},"shape":[19],"dtype":"int32","order":"little"}],["LARCENY/THEFT",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAEAAAACAAAAAQAAAAMAAAAAAAAABQAAAAMAAAALAAAABAAAAA=="},"shape":[19],"dtype":"int32","order":"little"}],["PROSTITUTION",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="},"shape":[19],"dtype":"int32","order":"little"}],["ROBBERY",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAEAAAADAAAAAwAAAA=="},"shape":[19],"dtype":"int32","order":"little"}],["STOLEN PROPERTY",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="},"shape":[19],"dtype":"int32","order":"little"}],["TRESPASS",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="},"shape":[19],"dtype":"int32","order":"little"}],["VANDALISM",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAADAAAAAAAAAAEAAAADAAAADwAAAAIAAAAKAAAAAgAAAA=="},"shape":[19],"dtype":"int32","order":"little"}],["VEHICLE THEFT",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAABAAAABgAAAAAAAAADAAAAAgAAAA=="},"shape":[19],"dtype":"int32","order":"little"}],["WEAPON LAWS",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAA=="},"shape":[19],"dtype":"int32","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1041","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1042"}}},"glyph":{"type":"object","name":"VBar","id":"p1037","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"ASSAULT"},"line_color":{"type":"value","value":"#1f77b4"},"fill_color":{"type":"value","value":"#1f77b4"},"hatch_color":{"type":"value","value":"#1f77b4"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1038","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"ASSAULT"},"line_color":{"type":"value","value":"#1f77b4"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#1f77b4"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#1f77b4"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1039","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"ASSAULT"},"line_color":{"type":"value","value":"#1f77b4"},"line_alpha":{"type":"value","value":0},"fill_color":{"type":"value","value":"#1f77b4"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"#1f77b4"},"hatch_alpha":{"type":"value","value":0}}},"muted":true}},{"type":"object","name":"GlyphRenderer","id":"p1051","attributes":{"data_source":{"id":"p1001"},"view":{"type":"object","name":"CDSView","id":"p1052","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1053"}}},"glyph":{"type":"object","name":"VBar","id":"p1048","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"BURGLARY"},"line_color":{"type":"value","value":"#aec7e8"},"fill_color":{"type":"value","value":"#aec7e8"},"hatch_color":{"type":"value","value":"#aec7e8"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1049","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"BURGLARY"},"line_color":{"type":"value","value":"#aec7e8"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#aec7e8"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#aec7e8"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1050","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"BURGLARY"},"line_color":{"type":"value","value":"#aec7e8"},"line_alpha":{"type":"value","value":0},"fill_color":{"type":"value","value":"#aec7e8"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"#aec7e8"},"hatch_alpha":{"type":"value","value":0}}},"muted":true}},{"type":"object","name":"GlyphRenderer","id":"p1061","attributes":{"data_source":{"id":"p1001"},"view":{"type":"object","name":"CDSView","id":"p1062","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1063"}}},"glyph":{"type":"object","name":"VBar","id":"p1058","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"DISORDERLY CONDUCT"},"line_color":{"type":"value","value":"#ff7f0e"},"fill_color":{"type":"value","value":"#ff7f0e"},"hatch_color":{"type":"value","value":"#ff7f0e"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1059","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"DISORDERLY CONDUCT"},"line_color":{"type":"value","value":"#ff7f0e"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#ff7f0e"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#ff7f0e"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1060","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"DISORDERLY CONDUCT"},"line_color":{"type":"value","value":"#ff7f0e"},"line_alpha":{"type":"value","value":0},"fill_color":{"type":"value","value":"#ff7f0e"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"#ff7f0e"},"hatch_alpha":{"type":"value","value":0}}},"muted":true}},{"type":"object","name":"GlyphRenderer","id":"p1071","attributes":{"data_source":{"id":"p1001"},"view":{"type":"object","name":"CDSView","id":"p1072","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1073"}}},"glyph":{"type":"object","name":"VBar","id":"p1068","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"DRIVING UNDER THE INFLUENCE"},"line_color":{"type":"value","value":"#ffbb78"},"fill_color":{"type":"value","value":"#ffbb78"},"hatch_color":{"type":"value","value":"#ffbb78"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1069","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"DRIVING UNDER THE INFLUENCE"},"line_color":{"type":"value","value":"#ffbb78"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#ffbb78"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#ffbb78"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1070","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"DRIVING UNDER THE INFLUENCE"},"line_color":{"type":"value","value":"#ffbb78"},"line_alpha":{"type":"value","value":0},"fill_color":{"type":"value","value":"#ffbb78"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"#ffbb78"},"hatch_alpha":{"type":"value","value":0}}},"muted":true}},{"type":"object","name":"GlyphRenderer","id":"p1081","attributes":{"data_source":{"id":"p1001"},"view":{"type":"object","name":"CDSView","id":"p1082","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1083"}}},"glyph":{"type":"object","name":"VBar","id":"p1078","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"DRUG/NARCOTIC"},"line_color":{"type":"value","value":"#2ca02c"},"fill_color":{"type":"value","value":"#2ca02c"},"hatch_color":{"type":"value","value":"#2ca02c"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1079","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"DRUG/NARCOTIC"},"line_color":{"type":"value","value":"#2ca02c"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#2ca02c"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#2ca02c"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1080","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"DRUG/NARCOTIC"},"line_color":{"type":"value","value":"#2ca02c"},"line_alpha":{"type":"value","value":0},"fill_color":{"type":"value","value":"#2ca02c"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"#2ca02c"},"hatch_alpha":{"type":"value","value":0}}},"muted":true}},{"type":"object","name":"GlyphRenderer","id":"p1091","attributes":{"data_source":{"id":"p1001"},"view":{"type":"object","name":"CDSView","id":"p1092","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1093"}}},"glyph":{"type":"object","name":"VBar","id":"p1088","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"DRUNKENNESS"},"line_color":{"type":"value","value":"#98df8a"},"fill_color":{"type":"value","value":"#98df8a"},"hatch_color":{"type":"value","value":"#98df8a"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1089","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"DRUNKENNESS"},"line_color":{"type":"value","value":"#98df8a"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#98df8a"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#98df8a"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1090","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"DRUNKENNESS"},"line_color":{"type":"value","value":"#98df8a"},"line_alpha":{"type":"value","value":0},"fill_color":{"type":"value","value":"#98df8a"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"#98df8a"},"hatch_alpha":{"type":"value","value":0}}},"muted":true}},{"type":"object","name":"GlyphRenderer","id":"p1101","attributes":{"data_source":{"id":"p1001"},"view":{"type":"object","name":"CDSView","id":"p1102","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1103"}}},"glyph":{"type":"object","name":"VBar","id":"p1098","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"LARCENY/THEFT"},"line_color":{"type":"value","value":"#d62728"},"fill_color":{"type":"value","value":"#d62728"},"hatch_color":{"type":"value","value":"#d62728"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1099","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"LARCENY/THEFT"},"line_color":{"type":"value","value":"#d62728"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#d62728"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#d62728"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1100","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"LARCENY/THEFT"},"line_color":{"type":"value","value":"#d62728"},"line_alpha":{"type":"value","value":0},"fill_color":{"type":"value","value":"#d62728"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"#d62728"},"hatch_alpha":{"type":"value","value":0}}},"muted":true}},{"type":"object","name":"GlyphRenderer","id":"p1111","attributes":{"data_source":{"id":"p1001"},"view":{"type":"object","name":"CDSView","id":"p1112","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1113"}}},"glyph":{"type":"object","name":"VBar","id":"p1108","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"PROSTITUTION"},"line_color":{"type":"value","value":"#ff9896"},"fill_color":{"type":"value","value":"#ff9896"},"hatch_color":{"type":"value","value":"#ff9896"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1109","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"PROSTITUTION"},"line_color":{"type":"value","value":"#ff9896"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#ff9896"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#ff9896"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1110","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"PROSTITUTION"},"line_color":{"type":"value","value":"#ff9896"},"line_alpha":{"type":"value","value":0},"fill_color":{"type":"value","value":"#ff9896"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"#ff9896"},"hatch_alpha":{"type":"value","value":0}}},"muted":true}},{"type":"object","name":"GlyphRenderer","id":"p1121","attributes":{"data_source":{"id":"p1001"},"view":{"type":"object","name":"CDSView","id":"p1122","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1123"}}},"glyph":{"type":"object","name":"VBar","id":"p1118","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"ROBBERY"},"line_color":{"type":"value","value":"#9467bd"},"fill_color":{"type":"value","value":"#9467bd"},"hatch_color":{"type":"value","value":"#9467bd"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1119","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"ROBBERY"},"line_color":{"type":"value","value":"#9467bd"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#9467bd"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#9467bd"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1120","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"ROBBERY"},"line_color":{"type":"value","value":"#9467bd"},"line_alpha":{"type":"value","value":0},"fill_color":{"type":"value","value":"#9467bd"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"#9467bd"},"hatch_alpha":{"type":"value","value":0}}},"muted":true}},{"type":"object","name":"GlyphRenderer","id":"p1131","attributes":{"data_source":{"id":"p1001"},"view":{"type":"object","name":"CDSView","id":"p1132","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1133"}}},"glyph":{"type":"object","name":"VBar","id":"p1128","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"STOLEN PROPERTY"},"line_color":{"type":"value","value":"#c5b0d5"},"fill_color":{"type":"value","value":"#c5b0d5"},"hatch_color":{"type":"value","value":"#c5b0d5"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1129","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"STOLEN PROPERTY"},"line_color":{"type":"value","value":"#c5b0d5"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#c5b0d5"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#c5b0d5"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1130","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"STOLEN PROPERTY"},"line_color":{"type":"value","value":"#c5b0d5"},"line_alpha":{"type":"value","value":0},"fill_color":{"type":"value","value":"#c5b0d5"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"#c5b0d5"},"hatch_alpha":{"type":"value","value":0}}},"muted":true}},{"type":"object","name":"GlyphRenderer","id":"p1141","attributes":{"data_source":{"id":"p1001"},"view":{"type":"object","name":"CDSView","id":"p1142","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1143"}}},"glyph":{"type":"object","name":"VBar","id":"p1138","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"TRESPASS"},"line_color":{"type":"value","value":"#8c564b"},"fill_color":{"type":"value","value":"#8c564b"},"hatch_color":{"type":"value","value":"#8c564b"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1139","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"TRESPASS"},"line_color":{"type":"value","value":"#8c564b"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#8c564b"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#8c564b"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1140","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"TRESPASS"},"line_color":{"type":"value","value":"#8c564b"},"line_alpha":{"type":"value","value":0},"fill_color":{"type":"value","value":"#8c564b"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"#8c564b"},"hatch_alpha":{"type":"value","value":0}}},"muted":true}},{"type":"object","name":"GlyphRenderer","id":"p1151","attributes":{"data_source":{"id":"p1001"},"view":{"type":"object","name":"CDSView","id":"p1152","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1153"}}},"glyph":{"type":"object","name":"VBar","id":"p1148","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"VANDALISM"},"line_color":{"type":"value","value":"#c49c94"},"fill_color":{"type":"value","value":"#c49c94"},"hatch_color":{"type":"value","value":"#c49c94"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1149","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"VANDALISM"},"line_color":{"type":"value","value":"#c49c94"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#c49c94"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#c49c94"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1150","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"VANDALISM"},"line_color":{"type":"value","value":"#c49c94"},"line_alpha":{"type":"value","value":0},"fill_color":{"type":"value","value":"#c49c94"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"#c49c94"},"hatch_alpha":{"type":"value","value":0}}},"muted":true}},{"type":"object","name":"GlyphRenderer","id":"p1161","attributes":{"data_source":{"id":"p1001"},"view":{"type":"object","name":"CDSView","id":"p1162","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1163"}}},"glyph":{"type":"object","name":"VBar","id":"p1158","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"VEHICLE THEFT"},"line_color":{"type":"value","value":"#e377c2"},"fill_color":{"type":"value","value":"#e377c2"},"hatch_color":{"type":"value","value":"#e377c2"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1159","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"VEHICLE THEFT"},"line_color":{"type":"value","value":"#e377c2"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#e377c2"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#e377c2"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1160","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"VEHICLE THEFT"},"line_color":{"type":"value","value":"#e377c2"},"line_alpha":{"type":"value","value":0},"fill_color":{"type":"value","value":"#e377c2"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"#e377c2"},"hatch_alpha":{"type":"value","value":0}}},"muted":true}},{"type":"object","name":"GlyphRenderer","id":"p1171","attributes":{"data_source":{"id":"p1001"},"view":{"type":"object","name":"CDSView","id":"p1172","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1173"}}},"glyph":{"type":"object","name":"VBar","id":"p1168","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"WEAPON LAWS"},"line_color":{"type":"value","value":"#f7b6d2"},"fill_color":{"type":"value","value":"#f7b6d2"},"hatch_color":{"type":"value","value":"#f7b6d2"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1169","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"WEAPON LAWS"},"line_color":{"type":"value","value":"#f7b6d2"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#f7b6d2"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#f7b6d2"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1170","attributes":{"x":{"type":"field","field":"Distance Bin"},"top":{"type":"field","field":"WEAPON LAWS"},"line_color":{"type":"value","value":"#f7b6d2"},"line_alpha":{"type":"value","value":0},"fill_color":{"type":"value","value":"#f7b6d2"},"fill_alpha":{"type":"value","value":0},"hatch_color":{"type":"value","value":"#f7b6d2"},"hatch_alpha":{"type":"value","value":0}}},"muted":true}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1013","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1027"},{"type":"object","name":"WheelZoomTool","id":"p1028"},{"type":"object","name":"BoxZoomTool","id":"p1029","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1030","attributes":{"syncable":false,"level":"overlay","visible":false,"left_units":"canvas","right_units":"canvas","bottom_units":"canvas","top_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}},{"type":"object","name":"SaveTool","id":"p1031"},{"type":"object","name":"ResetTool","id":"p1032"},{"type":"object","name":"HelpTool","id":"p1033"}]}},"left":[{"type":"object","name":"LinearAxis","id":"p1022","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1023","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1024"},"axis_label":"Type of crime","major_label_policy":{"type":"object","name":"AllLabels","id":"p1025"}}}],"below":[{"type":"object","name":"CategoricalAxis","id":"p1017","attributes":{"ticker":{"type":"object","name":"CategoricalTicker","id":"p1018"},"formatter":{"type":"object","name":"CategoricalTickFormatter","id":"p1019"},"axis_label":"Distance from station","major_label_policy":{"type":"object","name":"AllLabels","id":"p1020"}}}],"center":[{"type":"object","name":"Grid","id":"p1021","attributes":{"axis":{"id":"p1017"}}},{"type":"object","name":"Grid","id":"p1026","attributes":{"dimension":1,"axis":{"id":"p1022"}}},{"type":"object","name":"Legend","id":"p1043","attributes":{"click_policy":"mute","items":[{"type":"object","name":"LegendItem","id":"p1044","attributes":{"label":{"type":"value","value":"ASSAULT"},"renderers":[{"id":"p1040"}]}},{"type":"object","name":"LegendItem","id":"p1054","attributes":{"label":{"type":"value","value":"BURGLARY"},"renderers":[{"id":"p1051"}]}},{"type":"object","name":"LegendItem","id":"p1064","attributes":{"label":{"type":"value","value":"DISORDERLY CONDUCT"},"renderers":[{"id":"p1061"}]}},{"type":"object","name":"LegendItem","id":"p1074","attributes":{"label":{"type":"value","value":"DRIVING UNDER THE INFLUENCE"},"renderers":[{"id":"p1071"}]}},{"type":"object","name":"LegendItem","id":"p1084","attributes":{"label":{"type":"value","value":"DRUG/NARCOTIC"},"renderers":[{"id":"p1081"}]}},{"type":"object","name":"LegendItem","id":"p1094","attributes":{"label":{"type":"value","value":"DRUNKENNESS"},"renderers":[{"id":"p1091"}]}},{"type":"object","name":"LegendItem","id":"p1104","attributes":{"label":{"type":"value","value":"LARCENY/THEFT"},"renderers":[{"id":"p1101"}]}},{"type":"object","name":"LegendItem","id":"p1114","attributes":{"label":{"type":"value","value":"PROSTITUTION"},"renderers":[{"id":"p1111"}]}},{"type":"object","name":"LegendItem","id":"p1124","attributes":{"label":{"type":"value","value":"ROBBERY"},"renderers":[{"id":"p1121"}]}},{"type":"object","name":"LegendItem","id":"p1134","attributes":{"label":{"type":"value","value":"STOLEN PROPERTY"},"renderers":[{"id":"p1131"}]}},{"type":"object","name":"LegendItem","id":"p1144","attributes":{"label":{"type":"value","value":"TRESPASS"},"renderers":[{"id":"p1141"}]}},{"type":"object","name":"LegendItem","id":"p1154","attributes":{"label":{"type":"value","value":"VANDALISM"},"renderers":[{"id":"p1151"}]}},{"type":"object","name":"LegendItem","id":"p1164","attributes":{"label":{"type":"value","value":"VEHICLE THEFT"},"renderers":[{"id":"p1161"}]}},{"type":"object","name":"LegendItem","id":"p1174","attributes":{"label":{"type":"value","value":"WEAPON LAWS"},"renderers":[{"id":"p1171"}]}}]}}]}}]}}
    </script>
    <script type="text/javascript">
      (function() {
        const fn = function() {
          Bokeh.safely(function() {
            (function(root) {
              function embed_document(root) {
              const docs_json = document.getElementById('p1204').textContent;
              const render_items = [{"docid":"e6e61fb8-a9be-4e8a-8f8d-246723a2dfde","roots":{"p1004":"ce21e54a-5d61-4e4b-9a99-197c86540be6"},"root_ids":["p1004"]}];
              root.Bokeh.embed.embed_items(docs_json, render_items);
              }
              if (root.Bokeh !== undefined) {
                embed_document(root);
              } else {
                let attempts = 0;
                const timer = setInterval(function(root) {
                  if (root.Bokeh !== undefined) {
                    clearInterval(timer);
                    embed_document(root);
                  } else {
                    attempts++;
                    if (attempts > 100) {
                      clearInterval(timer);
                      console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                    }
                  }
                }, 10, root)
              }
            })(window);
          });
        };
        if (document.readyState != "loading") fn();
        else document.addEventListener("DOMContentLoaded", fn);
      })();
    </script>
  </body>
</html>
